{% extends "base.html" %}
{% block title %}alumni_action{% endblock %}
{% block body %}

<style type="text/css">
	.card {
        margin: 0 auto; /* Added */
        float: none; /* Added */
        margin-bottom: 10px; /* Added */
}
</style>

<!-- <div class="jumbotron">
  <h1>校友会在行动</h1>
</div> -->


<div class="jumbotron">  	
  	<div class="container">
  	<div class="row">
	  	<div class="col-md-2 col-lg-2 col-xl-2 jumbotron"></div>
	  	<div class="col-md-8 col-lg-8 col-xl-8">
		  	<div class="home_content w-100 p-1 mx-auto">
				<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
				  <ol class="carousel-indicators">
				  	{% for index in range(pages_info.home_images|length) %}
				  		{% if index == 0 %}
				  			<li data-target="#carouselExampleIndicators" data-slide-to={{index}}, class="active"></li>
				    	{% else %}
				    		<li data-target="#carouselExampleIndicators" data-slide-to={{index}}></li>
				  		{% endif %}
				  	{% endfor %}
				  </ol>
				  <div class="carousel-inner">
				  	{% for index in range(pages_info.home_images|length) %}
				  		{% if index == 0 %}
				  			<div class="carousel-item active">
				      		<img class="d-block img-fluid" src="{{ url_for('static', filename=pages_info.home_images[index]) }}" />
				    	</div>
				    	{% else %}
				    		<div class="carousel-item">
				      		<img class="d-block img-fluid" src="{{ url_for('static', filename=pages_info.home_images[index]) }}" />
				    	</div>
				  		{% endif %}
				  	{% endfor %}
				  </div>
				  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
				    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
				    <span class="sr-only">Previous</span>
				  </a>
				  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
				    <span class="carousel-control-next-icon" aria-hidden="true"></span>
				    <span class="sr-only">Next</span>
				  </a>
				</div>
			</div>
		</div>
		<div class="col-md-2 col-lg-2 col-xl-2 jumbotron"></div>
	</div>
	</div>
</div>

<div class="jumbotron"> 
	{% for p in pages_info.introduction %}
		<p>{{p}}</p>
	{% endfor %}
</div>

<div class="container" style="min-height: 400px">
  <div class="row"></div>
  <div class="row">
    <div class="col-1"></div>
    <div class="col-10">		
		<div id="accordion">
			{% for index in range(pages_info.notices|length) %}
				<div class="card">
			    <div class="card-header" id="heading_{{index}}">
			      <h5 class='title'>{{pages_info.notices[index][0].title}}</h5>
			      	<p class='d-inline'>{{pages_info.notices[index][1].paragraph}}</p>
			        <button class='d-inline btn btn-primary btn-sm' data-toggle="collapse" data-target="#collapse_{{index}}" aria-expanded="true" aria-controls="collapse_{{index}}">阅读更多</button>
			      </h5>
			    </div>
			    <div id="collapse_{{index}}" class="collapse" aria-labelledby="heading_{{index}}" data-parent="#accordion">
			      <div class="card-body">
			        {% with data=pages_info.notices[index][2:] %}
				       	{% include 'pages/notice_template.html' %}
				    {% endwith %}
			      </div>
			    </div>
			  </div>		
			{% endfor %}
		</div>
	</div>
	<div class="col-1"></div>
  </div>
</div>

<script type="text/javascript">
	
	$('.collapse').on('shown.bs.collapse', function () {
		$(this).parent().find('button').text("更少");
	})
	$('.collapse').on('hide.bs.collapse', function () {
		$(this).parent().find('button').text("阅读更多");
	})

</script>

	
{% endblock %}